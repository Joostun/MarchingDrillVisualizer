<!DOCTYPE html>
<html>
<head>
    <title>Upload PDF</title>
</head>
<body>

<h1>Upload PDF</h1>

<input type="file" id="pdfInput" accept=".pdf">
<button id="uploadButton">Upload PDF</button>

<p id="statusMessage"></p>

<script>
document.getElementById("uploadButton").addEventListener("click", () => {
    const pdfInput = document.getElementById("pdfInput");
    const statusMessage = document.getElementById("statusMessage");

    // Get the selected PDF file
    const pdfFile = pdfInput.files[0];

    if (!pdfFile) {
        statusMessage.textContent = "No file selected.";
        return;
    }

    // Create a FormData object to send the file
    const formData = new FormData();
    formData.append("pdfFile", pdfFile);

    // Send a POST request to your Flask server
    fetch("http://127.0.0.1:5000/api/retrieveMarcher", {
        method: "POST",
        body: formData,
    })
    .then(response => {
        console.log(response)
        statusMessage.textContent = response;
    })
    .then(data => {
        // Handle the response data
        console.log(data);
    })
    .catch(error => {
        console.error("Fetch error:", error);
        statusMessage.textContent = `Error: ${error.message}`;
    });
});
</script>

</body>
</html>
